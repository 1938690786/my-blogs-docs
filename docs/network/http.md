---
nav:
title: http
---

## HTTP
基于TCP/IP通信协议的超文本传输协议

## 工作原理
HTTP 协议工作于客户端-服务端架构上。

浏览器作为 HTTP 客户端通过 URL 向 HTTP 服务端即 WEB 服务器发送所有请求。

web服务器根据收到的请求，向客户端发送响应信息

默认端口是80

## 注意事项
http是无连接：无连接的含义是限制每次连接只处理一个请求，服务器处理完客户的请求，并收到客户的应答后，即断开链接，采用这种方式可以节省传输时间

http是媒体独立的：这意味着，只要客户端和服务端知道如何处理数据内容，任何类型的数据都可以通过http发送，客服端及服务器指定使用适合的MIME-type内容类型

http是无状态：http协议是无状态协议，无状态是指协议对于事务处理没有记忆能力，缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传输的数据量增大，另一方面，在服务器不需要先前信息时他的应答就比较快

## HTTP 消息结构
客户端发送一个http请求到服务器的格式包括：**请求行（request line）、请求头部（header）、空行和请求数据**四个部分组成

http响应消息也由四个部分组成，分别是：**状态行、消息报头、空行和响应正文**

## 请求方法
http1.0定义的三种请求方法：GET、POST、HEAD方法

http1.1新增了六种请求方法：OPTIONS、PUT、PATCH、DELETE、TRACE、CONNECT方法

- `GET`  请求指定的页面信息，并返回实体主体
- `HEAD` 类似于GET请求，只不过返回的响应中没有具体的内容，用户获取报头 
- `POST` 向指定资源提交数据进行处理。数据被包含在请求体中，POST请求可能会导致新的资源的建立或已有资源的修改
- `PUT` 从客户端向服务器传送的数据取代指定的文档的内容 
- `DELETE` 请求服务器删除指定的页面/内容
- `CONNECT` HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器
- `OPTIONS` 允许客户端查看服务器的性能
- `TRACE` 回显服务器收到的请求，主要用于测试或诊断
- `PATCH` 是对PUT方法的补充，用来对已知资源进行局部更新

## HTTP 响应头信息

- `ALLOW` 服务器支持的请求方法 如（GET、POST等）
- `Content-Encoding` 文档的编码（Encode）方法
- `Content-Lenght` 表示内容长度
- `Content-Type` 内容类型 如text/html application/json; charset=utf-8等
- `Date` 当前GMT时间
- `Expires` 表示文档过期时间
- `Last-Modified` 文档最后修改时间
- `Location` 标识客户应该到哪里去提取文档
- `Refresh` 标识浏览器应该多久之后刷新文档，单位：秒
- `Server` 服务器名称。如nginx会返回 nginx/1.24.0
- `Set-Cookie` 设置和页面关联的Cookie
- `WWW-Authenticate` 客户应该在Authorization头中提供什么类型的授权信息？

## 状态码

- `1**` 信息，服务器收到请求，需要请求者继续执行操作
- `2**` 成功，操作被成功接收并处理
- `3**` 重定向，需要进一步的操作完成请求
- `4**` 客户端错误，请求包含无法错误或无法完成请求
- `5**` 服务器错误，服务器在处理请求的过程中发生了错误
